---
import Arrow from './Arrow.astro'
import Pill from './ui/pill.astro'
import Container from '@/components/Container.astro'

interface Technologies {
	text: string
	image: string
}

interface Props {
	link: string
	target?: string
	title: string
	location: string
	duration: string
	phase: string
	description: string
	description2?: string
	ContainerStyles?: string
	textStyles?: string
	technologies: Technologies[]
}

const { link, target,  title, location, duration, phase, description, description2, ContainerStyles, textStyles, technologies } = Astro.props
---

<Container>
	<article>
		<a href={link} target={target} aria-label=`Tarjeta donde muestro mi experiencia laboral en ${title}` class=`block max-w-full ${ContainerStyles} backdrop-blur transition-colors rounded-2xl md:border md:border-neutral-100`>
			<div
				class='bg-gray-900 hover:bg-gray-800 group relative overflow-hidden rounded-lg md:p-6 transition-all duration-300'
			>
				<div class='mb-2 flex items-center justify-between'>
					<h3
						class=`${textStyles} pr-2 md:text-3xl text-lg font-bold font-GilroyBold transition-colors text-balance`
					>
						{title}
					</h3>
					<Arrow
						styles={textStyles}
						class='h-6 w-6 flex-shrink-0 transition-all duration-300 group-hover:-translate-y-1 group-hover:translate-x-1 group-hover:text-[#ffa84b]'
					/>
				</div>
				<time class='text-neutral-500 font-GilroySemibold mb-4'>{location} | {duration}</time>
				<p class='text-neutral-400 font-GilroyRegular text-pretty pt-4 italic'>
					{phase}
				</p>
				<p class='text-neutral-800 font-GilroyRegular mb-4 text-pretty pt-4'>
					{description}
				</p>
				<p class='text-neutral-800 font-GilroyRegular mb-4 text-pretty'>
					{description2}
				</p>
				<div class="flex flex-wrap gap-2">
					{technologies?.map((tech) => (
						<Pill text={tech.text} image={tech.image} class="flex-1 min-w-[calc(50%-0.5rem)] md:min-w-[calc(33%-0.5rem)]" />
					))}
				</div>
			</div>
		</a>
	</article>
</Container>
