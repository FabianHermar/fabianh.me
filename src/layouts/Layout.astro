---
import { getLangFromUrl } from '@/i18n/utils'
import Analytics from '@vercel/analytics/astro'
import { ClientRouter } from 'astro:transitions'

import '../globals.css'

import Footer from '@/components/common/Footer.astro'
import Header from '@/components/common/Header.astro'
interface Props {
	title: string
}

const { title } = Astro.props
const lang = getLangFromUrl(Astro.url)
---

<!doctype html>
<html lang={lang}>
	<head>
		<meta charset='UTF-8' />
		<meta name='description' content='Desarrollador frontend con más de 2 años de experiencia.' />
		<meta name='viewport' content='width=device-width' />
		<link rel='shortcut icon' href='/favicon/favicon.ico' type='image/x-icon' />
		<title>{title}</title>
		<link rel='apple-touch-icon' sizes='180x180' href='/favicon/apple-touch-icon.png' />
		<link rel='icon' type='image/png' sizes='32x32' href='/favicon/favicon-32x32.png' />
		<link rel='icon' type='image/png' sizes='16x16' href='/favicon/favicon-16x16.png' />
		<link rel='manifest' href='/favicon/site.webmanifest' />
		<link rel='mask-icon' href='/favicon/safari-pinned-tab.svg' color='#000000' />
		<link rel='alternate' hreflang='es' href='https://fabianh.me' />
		<link rel='alternate' hreflang='en' href='https://fabianh.me/en/' />
		<link rel='alternate' hreflang='de' href='https://fabianh.me/de/' />
		<link rel='canonical' href='https://fabianh.me' />
		<meta
			name='apple-mobile-web-app-title'
			content='Fabian Herrera - Desarrollador Web con más 2 años de experiencia.'
		/>
		<meta
			name='application-name'
			content='Fabian Herrera - Desarrollador Web con más 2 años de experiencia.'
		/>
		<meta name='msapplication-TileColor' content='#000000' />
		<meta name='theme-color' content='#ffffff' />

		<meta property='og:url' content='https://fabianh.me' />
		<meta property='og:type' content='website' />
		<meta
			property='og:title'
			content='Fabian Herrera - Desarrollador Web con más 2 años de experiencia.'
		/>
		<meta
			property='og:description'
			content='Desarrollador web fullstack con más de 2 años de experiencia.'
		/>
		<meta
			property='og:image'
			content='https://res.cloudinary.com/dvjzjasfg/image/upload/v1725076616/portfolio_mockup.webp'
		/>

		<meta property='og:site_name' content='Fabian Herrera - Portfolio' />

		<meta name='twitter:card' content='summary_large_image' />
		<meta property='twitter:domain' content='fabianh.me' />
		<meta property='twitter:url' content='https://fabianh.me' />
		<meta
			name='twitter:title'
			content='Fabian Herrera - Desarrollador Web con más 2 años de experiencia.'
		/>
		<meta
			name='twitter:description'
			content='Desarrollador web fullstack con más de 2 años de experiencia.'
		/>
		<meta
			name='twitter:image'
			content='https://res.cloudinary.com/dvjzjasfg/image/upload/v1725076616/portfolio_mockup.webp'
		/>
		<script type='text/partytown'>
			;(function (c, l, a, r, i, t, y) {
				c[a] =
					c[a] ||
					function () {
						;(c[a].q = c[a].q || []).push(arguments)
					}
				t = l.createElement(r)
				t.async = 1
				t.src = 'https://www.clarity.ms/tag/' + i
				y = l.getElementsByTagName(r)[0]
				y.parentNode.insertBefore(t, y)
			})(window, document, 'clarity', 'script', 'nvs574hxz7')
		</script>
		<ClientRouter />
		<Analytics />
	</head>
	<body class='dark-transition flex h-full flex-col'>
		<Header />
		<main class='flex-1'>
			<slot />
		</main>
		<Footer />
	</body>
</html>
